{"ast":null,"code":"import _objectSpread from\"/Users/abdulraheem/Desktop/Outsourcing_hub/outsourcing-hub-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'../styles/pages/JobListings.css';// Link the CSS file for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JobListings=_ref=>{let{jobs}=_ref;const[showForm,setShowForm]=useState(false);const[selectedJob,setSelectedJob]=useState(null);const[formData,setFormData]=useState({email:'',whatsapp:''});const[successMessage,setSuccessMessage]=useState('');const[error,setError]=useState('');// Handle \"Apply Now\" button click\nconst handleApplyClick=job=>{setSelectedJob(job);setShowForm(true);setSuccessMessage('');setError('');};// Handle form input changes\nconst handleInputChange=e=>{const{name,value}=e.target;setFormData(_objectSpread(_objectSpread({},formData),{},{[name]:value}));};// Handle form submission\nconst handleFormSubmit=async e=>{e.preventDefault();try{const response=await fetch('/api/applications',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({jobId:selectedJob._id,email:formData.email,whatsapp:formData.whatsapp})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||'Failed to submit application');}setSuccessMessage('Application submitted successfully!');setFormData({email:'',whatsapp:''});setShowForm(false);}catch(err){console.error('Error submitting application:',err.message);setError(err.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"job-listings\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Available Jobs\"}),jobs.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"job-listings\",children:jobs.map(job=>/*#__PURE__*/_jsxs(\"li\",{className:\"job-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:job.title}),/*#__PURE__*/_jsx(\"p\",{children:job.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Budget:\"}),\" $\",job.budget]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Deadline:\"}),\" \",job.deadline||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",job.status]}),/*#__PURE__*/_jsx(\"button\",{className:\"apply-button\",onClick:()=>handleApplyClick(job),children:\"Apply Now\"})]},job._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No jobs available at the moment.\"}),showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"application-form-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"application-form\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Apply for Job: \",selectedJob.title]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"whatsapp\",children:\"WhatsApp Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"whatsapp\",name:\"whatsapp\",value:formData.whatsapp,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Submit Application\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:()=>setShowForm(false),children:\"Cancel\"})]}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:successMessage}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]})})]});};export default JobListings;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","JobListings","_ref","jobs","showForm","setShowForm","selectedJob","setSelectedJob","formData","setFormData","email","whatsapp","successMessage","setSuccessMessage","error","setError","handleApplyClick","job","handleInputChange","e","name","value","target","_objectSpread","handleFormSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","jobId","_id","ok","errorData","json","Error","err","console","message","className","children","length","map","title","description","budget","deadline","status","onClick","onSubmit","htmlFor","type","id","onChange","required"],"sources":["/Users/abdulraheem/Desktop/Outsourcing_hub/outsourcing-hub-frontend/src/pages/JobListings.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/pages/JobListings.css'; // Link the CSS file for styling\n\nconst JobListings = ({ jobs }) => {\n  const [showForm, setShowForm] = useState(false);\n  const [selectedJob, setSelectedJob] = useState(null);\n  const [formData, setFormData] = useState({\n    email: '',\n    whatsapp: '',\n  });\n  const [successMessage, setSuccessMessage] = useState('');\n  const [error, setError] = useState('');\n\n  // Handle \"Apply Now\" button click\n  const handleApplyClick = (job) => {\n    setSelectedJob(job);\n    setShowForm(true);\n    setSuccessMessage('');\n    setError('');\n  };\n\n  // Handle form input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  // Handle form submission\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('/api/applications', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          jobId: selectedJob._id,\n          email: formData.email,\n          whatsapp: formData.whatsapp,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to submit application');\n      }\n\n      setSuccessMessage('Application submitted successfully!');\n      setFormData({ email: '', whatsapp: '' });\n      setShowForm(false);\n    } catch (err) {\n      console.error('Error submitting application:', err.message);\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className=\"job-listings\">\n      <h2>Available Jobs</h2>\n      {jobs.length > 0 ? (\n        <ul className=\"job-listings\">\n          {jobs.map((job) => (\n            <li key={job._id} className=\"job-card\">\n              <h3>{job.title}</h3>\n              <p>{job.description}</p>\n              <p><strong>Budget:</strong> ${job.budget}</p>\n              <p><strong>Deadline:</strong> {job.deadline || 'N/A'}</p>\n              <p><strong>Status:</strong> {job.status}</p>\n              <button className=\"apply-button\" onClick={() => handleApplyClick(job)}>\n                Apply Now\n              </button>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>No jobs available at the moment.</p>\n      )}\n\n      {showForm && (\n        <div className=\"application-form-modal\">\n          <div className=\"application-form\">\n            <h3>Apply for Job: {selectedJob.title}</h3>\n            <form onSubmit={handleFormSubmit}>\n              <div className=\"form-group\">\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"whatsapp\">WhatsApp Number</label>\n                <input\n                  type=\"text\"\n                  id=\"whatsapp\"\n                  name=\"whatsapp\"\n                  value={formData.whatsapp}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <button type=\"submit\" className=\"submit-button\">\n                Submit Application\n              </button>\n              <button type=\"button\" className=\"cancel-button\" onClick={() => setShowForm(false)}>\n                Cancel\n              </button>\n            </form>\n            {successMessage && <p className=\"success-message\">{successMessage}</p>}\n            {error && <p className=\"error-message\">{error}</p>}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default JobListings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}